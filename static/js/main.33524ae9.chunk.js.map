{"version":3,"sources":["Pictures/burger.gif","Pictures/coffee.jpg","Pictures/logo.png","serviceWorker.js","Atoms/Firebase.jsx","Molecules/Loading.jsx","Atoms/Avatar.jsx","Molecules/RecipeCard.jsx","Utils/Request.js","Molecules/NotFound.jsx","Pages/Cookbook.jsx","Organisms/UserMenu.jsx","Atoms/textfields/defaultTypes.js","Atoms/textfields/propTypes.js","Atoms/textfields/TextFields.jsx","Molecules/Authentication/SignInForm.jsx","Molecules/Authentication/SignUpForum.jsx","Organisms/Auth.jsx","Molecules/Search.jsx","Organisms/NavBar.jsx","Atoms/PrivateRoute.jsx","Organisms/Gallery.jsx","Organisms/DeleteRecipe.jsx","Pages/Recipe.jsx","Molecules/TimeInput.jsx","Molecules/DropZone/DropZone.jsx","Molecules/ImageGrid/ImageGrid.jsx","Organisms/ImageUpload.jsx","Organisms/RecipeForm.jsx","App.jsx","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","config","apiKey","process","authDomain","FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","Firebase","doSignInWithGoogle","auth","signInWithPopup","googleProvider","doCreateUserWithEmailAndPassword","email","password","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","app","initializeApp","this","GoogleAuthProvider","Loading","classes","className","container","src","loadingGif","alt","image","defaultProps","withStyles","minWidth","display","margin","paddingTop","Avatar","onClick","imgProps","name","nameProps","renderName","position","Typography","variant","component","size","large","small","flexDirection","alignItems","height","width","undefined","RecipeCard","imageUrl","title","description","profilePic","Card","card","CardMedia","media","CardContent","gutterBottom","body","color","line","truncateText","text","PureComponent","theme","maxWidth","fontSize","fontWeight","footer","avatar","paddingLeft","spacing","PROD_BASE","get","path","url","REACT_APP_ENV","axios","post","data","NotFound","search","Paper","square","paper","typography","slice","indexOf","coffee","top","justifyContent","minHeight","padding","Cookbook","getRecipes","a","response","recipes","sort","b","images","length","setState","loading","error","getUsers","users","initializeGA","ReactGA","initialize","pageview","pathname","state","prevProps","map","recipe","user","find","u","includes","_id","Grid","item","key","to","link","id","photo","xl","justify","renderCards","textDecoration","all","cursor","UserMenu","anchorEl","rest","Menu","open","anchorReference","PaperProps","style","left","MenuItem","Divider","RecipeDefaultProps","PropTypes","func","isRequired","string","number","bool","defaultValue","placeholder","rows","TimeDefaultProps","valid","renderTitle","EmailTextField","onChange","useState","setError","validateEmail","yup","required","validate","fullWidth","autoComplete","helperText","onBlur","NumberTextField","min","max","type","inputProps","toLowerCase","PasswordTextField","RecipeTextField","multiline","defaults","TimeTextField","split","TextField","SignIn","isInvalid","handleSubmitEmail","event","preventDefault","authUser","updateUser","prev","submit","handleSubmitGoogle","google","displayName","photoURL","handleInputChange","e","target","value","renderErrorMessage","errorText","socialContainer","align","alert","divider","onSubmit","xs","autoFocus","Button","disabled","flexGrow","textAlign","SignUpForm","firstName","lastName","passwordOne","passwordTwo","validatePasswords","pw1","message","matches","RegExp","pw2","updateProfile","uid","sm","Auth","handleClick","handleToggleMenu","currentTarget","handleClose","handleSwitchForm","signUp","signIn","renderForm","SignUpForum","changeForm","create","SignInForm","authenticated","onClose","buttons","Dialog","DialogContent","DialogActions","float","marginLeft","borderColor","paddingRight","Search","handleFocus","focused","handleChange","handleSubmit","complete","prevState","prevComplete","root","rootBlur","rootFocus","icon","iconFocus","iconBlur","input","inputFocus","inputBlur","elevation","IconButton","aria-label","InputBase","onKeyPress","handleKeyPress","onFocus","push","transition","backgroundColor","flex","NavBar","base","AppBar","Toolbar","logo","onSearch","handleSearch","right","marginBottom","PrivateRoute","render","from","openAuth","Gallery","items","showPlayButton","renderFullscreenButton","DeleteRecipe","handleOpen","handleDelete","recipeId","deleted","warning","DialogTitle","DialogContentText","Recipe","renderControls","owner","edit","renderGallery","original","thumbnail","imageSet","renderIngredients","ingredients","ingredient","i","renderInstructions","instructions","instruction","params","then","catch","prep","cook","ready","servings","paddingBottom","textContainer","imageContainer","icons","timing","md","lg","renderSummary","maxHeight","borderRight","marginRight","TimeInput","defaultValues","DropZone","getClassName","isActive","renderContent","CircularProgress","onDrop","accept","getRootProps","getInputProps","isDragActive","Image","index","onMove","ref","useRef","useDrop","hover","current","drop","useDrag","collect","monitor","isDragging","drag","ImageGrid","ImageUpload","handleDrop","files","onUpload","compress","Compress","quality","compressed","forEach","file","uploadToImgur","Promise","FormData","append","fetch","method","headers","Headers","Authorization","json","deleteHash","deletehash","DndProvider","backend","HTML5Backend","EMPTY_RECIPE","private","RecipeForm","handleSwitchChange","persist","checked","replace","trim","handleMultiLineInputChange","validateField","timeRe","test","handleImageUpload","handleImageMove","temp","element","splice","addRecipe","status","added","errors","save","cancelRecipe","delete","cancel","renderError","upload","renderOptions","FormControlLabel","label","control","Switch","renderDetails","details","join","Object","keys","grid","cloudIcon","createMuiTheme","palette","primary","main","secondary","overrides","MuiButton","textTransform","listener","onAuthStateChanged","getIdToken","token","common","ThemeProvider","bodyAttributes","basename","exact","ReactDOM","Provider","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.33524ae9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/burger.4dbbd9f7.gif\";","module.exports = __webpack_public_path__ + \"static/media/coffee.a7e354ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/logo.ce3f22a7.png\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport 'firebase/auth';\r\n\r\nimport app from 'firebase/app';\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n};\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config);\r\n    this.auth = app.auth();\r\n    this.googleProvider = new app.auth.GoogleAuthProvider();\r\n  }\r\n\r\n  doSignInWithGoogle = () => this.auth.signInWithPopup(this.googleProvider);\r\n\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  doSignOut = () => this.auth.signOut();\r\n\r\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  doPasswordUpdate = password => this.auth.currentUser.updatePassword(password);\r\n}\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nconst withFirebase = Component => props => (\r\n  <FirebaseContext.Consumer>\r\n    {firebase => <Component {...props} firebase={firebase} />}\r\n  </FirebaseContext.Consumer>\r\n);\r\n\r\nexport { FirebaseContext, withFirebase };\r\nexport default Firebase;\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport PropTypes from 'prop-types';\r\nimport loadingGif from '../Pictures/burger.gif';\r\n\r\nconst styles = {\r\n  container: {\r\n    minWidth: '100%',\r\n  },\r\n  image: {\r\n    display: 'block',\r\n    margin: 'auto',\r\n    paddingTop: '2em',\r\n  },\r\n};\r\n\r\nconst Loading = ({ classes }) => {\r\n  return (\r\n    <div className={classes.container}>\r\n      <img src={loadingGif} alt=\"loading\" className={classes.image} />\r\n    </div>\r\n  );\r\n};\r\n\r\nLoading.propTypes = {\r\n  classes: PropTypes.objectOf(PropTypes.string),\r\n};\r\n\r\nLoading.defaultProps = {\r\n  classes: {},\r\n};\r\n\r\nexport default withStyles(styles)(Loading);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Avatar as MUIAvatar, Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  small: {\n    height: 25,\n    width: 25,\n  },\n  large: {\n    height: 32,\n    width: 32,\n  },\n};\n\nconst Avatar = ({ onClick, src, imgProps, name, nameProps, classes }) => {\n  const renderName = position => {\n    const { display, className } = nameProps;\n    if (name && position === display) {\n      return (\n        <Typography\n          onClick={onClick}\n          className={className}\n          variant=\"body2\"\n          component=\"span\"\n        >\n          {name}\n        </Typography>\n      );\n    }\n    return undefined;\n  };\n\n  const getClassName = () => {\n    const { size } = imgProps;\n    return size === 'large' ? classes.large : classes.small;\n  };\n\n  return (\n    <div className={classes.container}>\n      {renderName('left')}\n      <div onClick={onClick} className={imgProps.className}>\n        <MUIAvatar\n          className={getClassName()}\n          src={src || 'https://i.imgur.com/oTPg6oz.jpg'}\n        />\n      </div>\n      {renderName('right')}\n    </div>\n  );\n};\n\nexport default withStyles(styles)(Avatar);\n\nAvatar.propTypes = {\n  classes: PropTypes.objectOf(PropTypes.string).isRequired,\n  src: PropTypes.string,\n  onClick: PropTypes.func,\n  imgProps: PropTypes.shape({\n    size: PropTypes.oneOf([undefined, 'small', 'large']),\n    className: PropTypes.string,\n  }),\n  name: PropTypes.string,\n  nameProps: PropTypes.shape({\n    className: PropTypes.string,\n    display: PropTypes.oneOf([undefined, 'left', 'right']),\n  }),\n};\n\nAvatar.defaultProps = {\n  onClick: undefined,\n  src: undefined,\n  imgProps: {\n    size: undefined,\n  },\n  name: undefined,\n  nameProps: {\n    display: 'none',\n  },\n};\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Card, CardContent, CardMedia, Typography } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TextTruncate from 'react-text-truncate';\r\nimport Avatar from 'Atoms/Avatar';\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    maxWidth: 300,\r\n    height: 430,\r\n  },\r\n  media: {\r\n    height: 300,\r\n    width: 300,\r\n  },\r\n  title: {\r\n    fontSize: '1rem',\r\n    fontWeight: 600,\r\n  },\r\n  body: {\r\n    height: 50,\r\n  },\r\n  description: {\r\n    fontSize: '0.8rem',\r\n    color: '#595959',\r\n  },\r\n  footer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    height: 25,\r\n    width: 25,\r\n  },\r\n  name: {\r\n    paddingLeft: theme.spacing(1),\r\n    color: '#333333',\r\n  },\r\n});\r\n\r\nclass RecipeCard extends PureComponent {\r\n  static propTypes = {\r\n    imageUrl: PropTypes.string.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string.isRequired,\r\n    classes: PropTypes.objectOf(PropTypes.string),\r\n    name: PropTypes.string,\r\n    profilePic: PropTypes.string,\r\n  };\r\n\r\n  static defaultProps = {\r\n    classes: {},\r\n    name: undefined,\r\n    profilePic: undefined,\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      imageUrl,\r\n      title,\r\n      description,\r\n      name,\r\n      profilePic,\r\n    } = this.props;\r\n    return (\r\n      <Card className={classes.card}>\r\n        <CardMedia className={classes.media} image={imageUrl} />\r\n        <CardContent>\r\n          <Typography\r\n            className={classes.title}\r\n            gutterBottom\r\n            variant=\"h5\"\r\n            component=\"h2\"\r\n          >\r\n            {title}\r\n          </Typography>\r\n          <div className={classes.body}>\r\n            <Typography\r\n              className={classes.description}\r\n              variant=\"body1\"\r\n              color=\"inherit\"\r\n              component=\"span\"\r\n            >\r\n              <TextTruncate line={2} truncateText=\" \" text={description} />\r\n            </Typography>\r\n          </div>\r\n          <Avatar\r\n            src={profilePic}\r\n            imgProps={{ size: 'small' }}\r\n            name={name}\r\n            nameProps={{ className: classes.name, display: 'right' }}\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(RecipeCard);\r\n","import axios from 'axios';\r\n\r\nconst DEV_BASE = 'http://localhost:8080';\r\nconst PROD_BASE = 'https://joel-cookbook-server.herokuapp.com';\r\n\r\nconst get = path => {\r\n  const url = process.env.REACT_APP_ENV === 'DEV' ? DEV_BASE : PROD_BASE;\r\n  return axios.get(`${url}/${path}`);\r\n};\r\n\r\nconst post = (path, data) => {\r\n  const url = process.env.REACT_APP_ENV === 'DEV' ? DEV_BASE : PROD_BASE;\r\n  return axios.post(`${url}/${path}`, data);\r\n};\r\n\r\nexport { get, post };\r\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { Paper, Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport coffee from '../Pictures/coffee.jpg';\n\nconst styles = theme => ({\n  container: {\n    top: 64,\n    width: '100%',\n    position: 'absolute',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    width: '60vw',\n    minHeight: 100,\n    padding: 10,\n  },\n  typography: {\n    padding: theme.spacing(1, 0, 0, 1),\n  },\n  image: {\n    maxWidth: 300,\n    height: 'auto',\n    display: 'block',\n    margin: '0 auto',\n  },\n});\n\nclass NotFound extends PureComponent {\n  static propTypes = {\n    classes: PropTypes.objectOf(PropTypes.string).isRequired,\n    search: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const { classes, search } = this.props;\n    return (\n      <div className={classes.container}>\n        <Paper square className={classes.paper}>\n          <Typography className={classes.typography}>\n            <i>0 recipe results for</i>\n            {` \"${search.slice(search.indexOf('=') + 1)}\"`}\n          </Typography>\n          <img src={coffee} alt=\"not found\" className={classes.image} />\n        </Paper>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(NotFound);\n","import React, { Component } from 'react';\r\nimport { Grid } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport ReactGA from 'react-ga';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Loading from '../Molecules/Loading';\r\nimport RecipeCard from '../Molecules/RecipeCard';\r\nimport { get } from '../Utils/Request';\r\nimport NotFound from '../Molecules/NotFound';\r\n\r\nconst styles = {\r\n  link: {\r\n    textDecoration: 'none',\r\n    all: 'inherit',\r\n  },\r\n  card: {\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\nclass Cookbook extends Component {\r\n  static propTypes = {\r\n    location: PropTypes.shape({\r\n      state: PropTypes.shape({ openAuth: PropTypes.bool }),\r\n      search: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n    classes: PropTypes.objectOf(PropTypes.string),\r\n  };\r\n\r\n  static defaultProps = {\r\n    classes: {},\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { loading: true };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initializeGA();\r\n    this.getRecipes();\r\n    this.getUsers();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      location: { search },\r\n    } = this.props;\r\n    const {\r\n      location: { search: prevSearch },\r\n    } = prevProps;\r\n\r\n    if (search !== prevSearch) {\r\n      this.getRecipes();\r\n    }\r\n  }\r\n\r\n  getRecipes = async () => {\r\n    try {\r\n      const {\r\n        location: { search },\r\n      } = this.props;\r\n      const response = await get(`recipe${search}`);\r\n\r\n      // prefer recipes with images\r\n      const recipes = response.data.sort((a, b) => {\r\n        if (a.images.length > 0 && b.images.length === 0) return -1;\r\n        if (a.images.length === 0 && b.images.length > 0) return 1;\r\n        return 0;\r\n      });\r\n\r\n      this.setState({ recipes, loading: false });\r\n    } catch (error) {\r\n      this.setState({ error });\r\n    }\r\n  };\r\n\r\n  getUsers = async () => {\r\n    try {\r\n      const response = await get('users');\r\n      this.setState({ users: response.data });\r\n    } catch (error) {\r\n      this.setState({ error });\r\n    }\r\n  };\r\n\r\n  initializeGA = () => {\r\n    ReactGA.initialize(process.env.REACT_APP_GOOGLE_ANALYTICS);\r\n    ReactGA.pageview(window.location.pathname + window.location.search);\r\n  };\r\n\r\n  renderCards() {\r\n    const { classes } = this.props;\r\n    const { recipes, users } = this.state;\r\n\r\n    return recipes.map(recipe => {\r\n      const user = users\r\n        ? users.find(u => u.recipes.includes(recipe._id))\r\n        : undefined;\r\n      return (\r\n        <Grid item key={recipe._id} className={classes.card}>\r\n          <Link to={`/recipe/${recipe._id}`} className={classes.link}>\r\n            <RecipeCard\r\n              imageUrl={\r\n                recipe.images && recipe.images.length\r\n                  ? `https://i.imgur.com/${recipe.images[0].id}.jpg`\r\n                  : 'https://i.imgur.com/6MEHGTJ.jpg'\r\n              }\r\n              title={recipe.title}\r\n              description={recipe.description}\r\n              name={user ? user.name : undefined}\r\n              profilePic={user ? user.photo : undefined}\r\n            />\r\n          </Link>\r\n        </Grid>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      location: { search },\r\n    } = this.props;\r\n    const { loading, recipes } = this.state;\r\n\r\n    if (loading) {\r\n      return <Loading />;\r\n    }\r\n\r\n    if (search && recipes.length < 1) {\r\n      return <NotFound search={search} />;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <Grid container>\r\n          <Grid item xl={1} />\r\n          <Grid\r\n            container\r\n            item\r\n            xl={10}\r\n            spacing={1}\r\n            alignItems=\"center\"\r\n            justify=\"center\"\r\n          >\r\n            {this.renderCards()}\r\n          </Grid>\r\n          <Grid item xl={1} />\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Cookbook);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Divider from '@material-ui/core/Divider';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { withFirebase } from 'Atoms/Firebase';\nimport { Link } from 'react-router-dom';\nimport { withStyles } from '@material-ui/styles';\n\nconst styles = {\n  link: {\n    padding: 0,\n    textDecoration: 'none',\n    all: 'inherit',\n  },\n};\n\nconst UserMenu = ({ classes, anchorEl, firebase, ...rest }) => {\n  return (\n    <Menu\n      anchorEl={anchorEl}\n      open={Boolean(anchorEl)}\n      anchorReference=\"none\"\n      PaperProps={{\n        style: {\n          left: '92%',\n          top: '6%',\n        },\n      }}\n      {...rest}\n    >\n      <MenuItem>\n        <Link to=\"/recipe/new\" className={classes.link}>\n          New Recipe\n        </Link>\n      </MenuItem>\n      <Divider />\n      <MenuItem onClick={() => firebase.doSignOut()}>Logout</MenuItem>\n    </Menu>\n  );\n};\n\nexport default withStyles(styles)(withFirebase(UserMenu));\n\nUserMenu.propTypes = {\n  classes: PropTypes.objectOf(PropTypes.string),\n  anchorEl: PropTypes.shape({}),\n  firebase: PropTypes.shape({\n    doSignOut: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nUserMenu.defaultProps = {\n  classes: {},\n  anchorEl: null,\n};\n","const NumberDefaultProps = {\n  defaultValue: undefined,\n  name: undefined,\n  max: undefined,\n  min: undefined,\n};\n\nconst RecipeDefaultProps = {\n  defaultValue: undefined,\n  name: undefined,\n  placeholder: undefined,\n  rows: undefined,\n};\n\nconst TimeDefaultProps = {\n  defaultValue: undefined,\n  name: undefined,\n  placeholder: undefined,\n  valid: true,\n};\n\nexport { NumberDefaultProps, RecipeDefaultProps, TimeDefaultProps };\n","import PropTypes from 'prop-types';\n\nconst EmailPropTypes = {\n  onChange: PropTypes.func.isRequired,\n  email: PropTypes.string.isRequired,\n};\n\nconst NumberPropTypes = {\n  onChange: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  defaultValue: PropTypes.string,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  name: PropTypes.string,\n};\n\nconst PasswordPropTypes = {\n  onChange: PropTypes.func.isRequired,\n};\n\nconst RecipePropTypes = {\n  onChange: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  defaultValue: PropTypes.string,\n  name: PropTypes.string,\n  placeholder: PropTypes.string,\n  rows: PropTypes.number,\n};\n\nconst TimePropTypes = {\n  onBlur: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  defaultValue: PropTypes.string,\n  name: PropTypes.string,\n  placeholder: PropTypes.string,\n  valid: PropTypes.bool,\n};\n\nexport {\n  EmailPropTypes,\n  NumberPropTypes,\n  PasswordPropTypes,\n  RecipePropTypes,\n  TimePropTypes,\n};\n","import { TextField as MUITextField, Typography } from '@material-ui/core';\r\n\r\nimport React, { useState } from 'react';\r\nimport * as yup from 'yup';\r\nimport * as types from './propTypes';\r\nimport * as defaults from './defaultTypes';\r\n\r\nconst renderTitle = (title, valid) =>\r\n  title ? (\r\n    <Typography variant=\"body2\" color={valid ? 'inherit' : 'error'}>\r\n      {title}\r\n    </Typography>\r\n  ) : (\r\n    undefined\r\n  );\r\n\r\nconst EmailTextField = ({ email, onChange, ...rest }) => {\r\n  const [error, setError] = useState(false);\r\n\r\n  const validateEmail = async () => {\r\n    if (!email) return;\r\n    try {\r\n      await yup\r\n        .string()\r\n        .email()\r\n        .required()\r\n        .validate(email);\r\n      setError(false);\r\n    } catch (err) {\r\n      setError(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MUITextField\r\n      fullWidth\r\n      variant=\"outlined\"\r\n      autoComplete=\"username\"\r\n      name=\"email\"\r\n      placeholder=\"Email\"\r\n      helperText={error ? 'Please enter a valid email address' : undefined}\r\n      error={error}\r\n      onChange={onChange}\r\n      onBlur={validateEmail}\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n\r\nEmailTextField.propTypes = types.EmailPropTypes;\r\n\r\nconst NumberTextField = ({ title, name, min, max, onChange, defaultValue }) => (\r\n  <>\r\n    {renderTitle(title, true)}\r\n    <MUITextField\r\n      required\r\n      fullWidth\r\n      variant=\"outlined\"\r\n      type=\"number\"\r\n      inputProps={{ min, max }}\r\n      name={name || title.toLowerCase()}\r\n      onChange={onChange}\r\n      defaultValue={defaultValue}\r\n    />\r\n  </>\r\n);\r\n\r\nNumberTextField.propTypes = types.NumberPropTypes;\r\nNumberTextField.defaultProps = defaults.NumberDefaultProps;\r\n\r\nconst PasswordTextField = ({ onChange, ...rest }) => (\r\n  <MUITextField\r\n    fullWidth\r\n    variant=\"outlined\"\r\n    autoComplete=\"current-password\"\r\n    type=\"password\"\r\n    name=\"password\"\r\n    placeholder=\"Password\"\r\n    onChange={onChange}\r\n    {...rest}\r\n  />\r\n);\r\n\r\nPasswordTextField.propTypes = types.PasswordPropTypes;\r\n\r\nconst RecipeTextField = ({\r\n  title,\r\n  placeholder,\r\n  name,\r\n  rows,\r\n  onChange,\r\n  defaultValue,\r\n}) => (\r\n  <>\r\n    {renderTitle(title, true)}\r\n    <MUITextField\r\n      required\r\n      fullWidth\r\n      multiline={!!rows}\r\n      rows={rows}\r\n      variant=\"outlined\"\r\n      name={name || title.toLowerCase()}\r\n      placeholder={placeholder}\r\n      onChange={onChange}\r\n      defaultValue={defaultValue}\r\n    />\r\n  </>\r\n);\r\n\r\nRecipeTextField.propTypes = types.RecipePropTypes;\r\nRecipeTextField.defaultProps = defaults.RecipeDefaultProps;\r\n\r\nconst TimeTextField = ({\r\n  title,\r\n  placeholder,\r\n  name,\r\n  valid,\r\n  onChange,\r\n  onBlur,\r\n  defaultValue,\r\n}) => (\r\n  <>\r\n    {renderTitle(title, valid)}\r\n    <MUITextField\r\n      required\r\n      fullWidth\r\n      variant=\"outlined\"\r\n      placeholder={placeholder}\r\n      name={name || title.split(' ')[0].toLowerCase()}\r\n      onChange={onChange}\r\n      onBlur={onBlur}\r\n      defaultValue={defaultValue}\r\n    />\r\n  </>\r\n);\r\n\r\nTimeTextField.propTypes = types.TimePropTypes;\r\nTimeTextField.defaultProps = defaults.TimeDefaultProps;\r\n\r\nconst TextField = props => <MUITextField {...props} variant=\"outlined\" />;\r\n\r\nexport default TextField;\r\nexport {\r\n  EmailTextField,\r\n  NumberTextField,\r\n  PasswordTextField,\r\n  RecipeTextField,\r\n  TimeTextField,\r\n};\r\n","import { Button, Grid, withStyles, Typography } from '@material-ui/core';\r\nimport {\r\n  FacebookLoginButton,\r\n  GoogleLoginButton,\r\n  TwitterLoginButton,\r\n} from 'react-social-login-buttons';\r\nimport React, { Component } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\nimport { withFirebase } from '../../Atoms/Firebase';\r\nimport {\r\n  EmailTextField,\r\n  PasswordTextField,\r\n} from '../../Atoms/textfields/TextFields';\r\n\r\nconst styles = {\r\n  socialContainer: {\r\n    flexGrow: 1,\r\n    textAlign: 'center',\r\n  },\r\n  divider: {\r\n    margin: '10px 0px 10px',\r\n  },\r\n  errorText: {\r\n    color: '#f44336',\r\n  },\r\n};\r\n\r\nclass SignIn extends Component {\r\n  static propTypes = {\r\n    firebase: PropTypes.shape({\r\n      auth: PropTypes.shape({\r\n        currentUser: PropTypes.shape({ uid: PropTypes.string }),\r\n      }),\r\n      doSignInWithEmailAndPassword: PropTypes.func.isRequired,\r\n      doSignInWithGoogle: PropTypes.func.isRequired,\r\n    }).isRequired,\r\n    classes: PropTypes.objectOf(PropTypes.string),\r\n  };\r\n\r\n  static defaultProps = {\r\n    classes: {},\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      error: {\r\n        submit: false,\r\n        google: false,\r\n      },\r\n    };\r\n  }\r\n\r\n  isInvalid = () => {\r\n    const { email, password } = this.state;\r\n    return password === '' || email === '';\r\n  };\r\n\r\n  handleSubmitEmail = async event => {\r\n    const { email, password } = this.state;\r\n    const { firebase } = this.props;\r\n\r\n    event.preventDefault();\r\n\r\n    try {\r\n      await firebase.doSignInWithEmailAndPassword(email, password);\r\n      const authUser = firebase.auth.currentUser;\r\n      this.updateUser(authUser);\r\n    } catch (error) {\r\n      this.setState(prev => ({ error: { ...prev.error, submit: true } }));\r\n    }\r\n  };\r\n\r\n  handleSubmitGoogle = async () => {\r\n    const { firebase } = this.props;\r\n    try {\r\n      await firebase.doSignInWithGoogle();\r\n      const authUser = firebase.auth.currentUser;\r\n      this.updateUser(authUser);\r\n    } catch (error) {\r\n      this.setState(prev => ({ error: { ...prev.error, google: true } }));\r\n    }\r\n  };\r\n\r\n  updateUser = authUser => {\r\n    axios.post('https://joel-cookbook-server.herokuapp.com/user', {\r\n      name: authUser.displayName,\r\n      photo: authUser.photoURL,\r\n    });\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  renderErrorMessage = () => {\r\n    const { classes } = this.props;\r\n    const {\r\n      error: { submit, google },\r\n    } = this.state;\r\n\r\n    if (!submit) return undefined;\r\n\r\n    let text;\r\n    if (submit) {\r\n      text = 'Incorrect Email or Password';\r\n    } else if (google) {\r\n      text = \"Couldn't sign into Google\";\r\n    }\r\n\r\n    return (\r\n      <Typography\r\n        className={classes.errorText}\r\n        variant=\"body2\"\r\n        display=\"block\"\r\n        gutterBottom\r\n      >\r\n        {text}\r\n      </Typography>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { email } = this.state;\r\n    return (\r\n      <>\r\n        <div className={classes.socialContainer}>\r\n          <FacebookLoginButton\r\n            align=\"center\"\r\n            // eslint-disable-next-line no-alert\r\n            onClick={() => alert(\"Sorry Facebook isn't supported yet\")}\r\n          />\r\n          <TwitterLoginButton\r\n            align=\"center\"\r\n            // eslint-disable-next-line no-alert\r\n            onClick={() => alert(\"Sorry Twitter isn't supported yet\")}\r\n          />\r\n          <GoogleLoginButton align=\"center\" onClick={this.handleSubmitGoogle} />\r\n        </div>\r\n        <hr className={classes.divider} />\r\n        {this.renderErrorMessage()}\r\n        <form onSubmit={this.handleSubmitEmail}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <EmailTextField\r\n                autoFocus\r\n                email={email}\r\n                onChange={this.handleInputChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <PasswordTextField onChange={this.handleInputChange} />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Button\r\n                fullWidth\r\n                disabled={this.isInvalid()}\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >\r\n                Login\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(withFirebase(SignIn));\r\n","import { Button, Grid, withStyles } from '@material-ui/core';\r\nimport {\r\n  FacebookLoginButton,\r\n  GoogleLoginButton,\r\n  TwitterLoginButton,\r\n} from 'react-social-login-buttons';\r\nimport React, { Component } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\nimport * as yup from 'yup';\r\nimport { withFirebase } from '../../Atoms/Firebase';\r\nimport TextField, {\r\n  EmailTextField,\r\n  PasswordTextField,\r\n} from '../../Atoms/textfields/TextFields';\r\n\r\nconst styles = {\r\n  socialContainer: {\r\n    flexGrow: 1,\r\n    textAlign: 'center',\r\n  },\r\n  divider: {\r\n    margin: '10px 0px 10px',\r\n  },\r\n};\r\n\r\nclass SignUpForm extends Component {\r\n  static propTypes = {\r\n    firebase: PropTypes.shape({\r\n      auth: PropTypes.shape({\r\n        currentUser: PropTypes.shape({ updateProfile: PropTypes.func }),\r\n      }),\r\n      doCreateUserWithEmailAndPassword: PropTypes.func.isRequired,\r\n      doSignInWithGoogle: PropTypes.func.isRequired,\r\n    }).isRequired,\r\n    classes: PropTypes.objectOf(PropTypes.string),\r\n  };\r\n\r\n  static defaultProps = {\r\n    classes: {},\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      passwordOne: '',\r\n      passwordTwo: '',\r\n      error: {},\r\n    };\r\n  }\r\n\r\n  isInvalid = () => {\r\n    const {\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      passwordOne,\r\n      passwordTwo,\r\n      valid,\r\n    } = this.state;\r\n    return (\r\n      !valid ||\r\n      passwordOne === '' ||\r\n      passwordTwo === '' ||\r\n      email === '' ||\r\n      firstName === '' ||\r\n      lastName === ''\r\n    );\r\n  };\r\n\r\n  validatePasswords = async () => {\r\n    const { passwordOne, passwordTwo } = this.state;\r\n\r\n    // Validate password\r\n    if (!passwordOne) return;\r\n    try {\r\n      await yup\r\n        .string()\r\n        .min(8, 'Password must be at least 8 charaters long')\r\n        .required('A password is required')\r\n        .validate(passwordOne);\r\n      this.setState(prev => ({ error: { ...prev.error, pw1: false } }));\r\n    } catch (error) {\r\n      this.setState(prev => ({\r\n        valid: false,\r\n        error: { ...prev.error, pw1: error.message },\r\n      }));\r\n      return;\r\n    }\r\n\r\n    // Validate confirm password\r\n    if (!passwordTwo) return;\r\n    try {\r\n      await yup\r\n        .string()\r\n        .matches(new RegExp(passwordOne), \"Passwords don't match\")\r\n        .required('Please confirm your password')\r\n        .validate(passwordTwo);\r\n      this.setState(prev => ({\r\n        valid: true,\r\n        error: { ...prev.error, pw2: false },\r\n      }));\r\n    } catch (error) {\r\n      this.setState(prev => ({\r\n        valid: false,\r\n        error: { ...prev.error, pw2: error.message },\r\n      }));\r\n    }\r\n  };\r\n\r\n  handleSubmitEmail = async event => {\r\n    const { email, passwordOne, firstName, lastName } = this.state;\r\n    const { firebase } = this.props;\r\n\r\n    event.preventDefault();\r\n\r\n    try {\r\n      await firebase.doCreateUserWithEmailAndPassword(email, passwordOne);\r\n      const authUser = firebase.auth.currentUser;\r\n      authUser.updateProfile({\r\n        displayName: `${firstName} ${lastName}`,\r\n      });\r\n      this.updateUser(authUser);\r\n    } catch (error) {\r\n      this.setState(prev => ({ error: { ...prev.error, submit: true } }));\r\n    }\r\n  };\r\n\r\n  handleSubmitGoogle = async () => {\r\n    const { firebase } = this.props;\r\n    try {\r\n      await firebase.doSignInWithGoogle();\r\n      const authUser = firebase.auth.currentUser;\r\n      this.updateUser(authUser);\r\n    } catch (error) {\r\n      this.setState(prev => ({ error: { ...prev.error, google: true } }));\r\n    }\r\n  };\r\n\r\n  updateUser = authUser => {\r\n    axios.post('https://joel-cookbook-server.herokuapp.com/user', {\r\n      uid: authUser.uid,\r\n      name: authUser.displayName,\r\n      photo: authUser.photoURL,\r\n    });\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n    this.setState({ [name]: value }, () => {\r\n      if (name === 'passwordTwo') {\r\n        this.validatePasswords();\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { email, error } = this.state;\r\n    return (\r\n      <div className={classes.container}>\r\n        <div className={classes.socialContainer}>\r\n          <FacebookLoginButton\r\n            align=\"center\"\r\n            // eslint-disable-next-line no-alert\r\n            onClick={() => alert(\"Sorry Facebook isn't supported yet\")}\r\n          >\r\n            <span>Sign up with Facebook</span>\r\n          </FacebookLoginButton>\r\n          <TwitterLoginButton\r\n            align=\"center\"\r\n            // eslint-disable-next-line no-alert\r\n            onClick={() => alert(\"Sorry Twitter isn't supported yet\")}\r\n          >\r\n            <span>Sign up with Twitter</span>\r\n          </TwitterLoginButton>\r\n          <GoogleLoginButton align=\"center\" onClick={this.handleSubmitGoogle}>\r\n            <span>Sign up with Google</span>\r\n          </GoogleLoginButton>\r\n        </div>\r\n        <hr className={classes.divider} />\r\n        <form onSubmit={this.handleSubmitEmail}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoFocus\r\n                fullWidth\r\n                name=\"firstName\"\r\n                placeholder=\"First Name\"\r\n                onChange={this.handleInputChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                name=\"lastName\"\r\n                placeholder=\"Last Name\"\r\n                onChange={this.handleInputChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <EmailTextField email={email} onChange={this.handleInputChange} />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <PasswordTextField\r\n                autoComplete=\"new-password\"\r\n                name=\"passwordOne\"\r\n                error={!!error.pw1}\r\n                helperText={error.pw1}\r\n                onChange={this.handleInputChange}\r\n                onBlur={this.validatePasswords}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <PasswordTextField\r\n                autoComplete=\"new-password\"\r\n                name=\"passwordTwo\"\r\n                placeholder=\"Confirm Password\"\r\n                error={!!error.pw2}\r\n                helperText={error.pw2}\r\n                onChange={this.handleInputChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Button\r\n                fullWidth\r\n                disabled={this.isInvalid()}\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >\r\n                Create Account\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          {error && <p>{error.message}</p>}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(withFirebase(SignUpForm));\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n} from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport UserMenu from 'Organisms/UserMenu';\r\nimport SignInForm from 'Molecules/Authentication/SignInForm';\r\nimport SignUpForum from 'Molecules/Authentication/SignUpForum';\r\nimport { withFirebase } from 'Atoms/Firebase';\r\nimport Avatar from '../Atoms/Avatar';\r\n\r\nconst styles = theme => ({\r\n  buttons: {\r\n    marginLeft: theme.spacing(),\r\n    color: 'white',\r\n    borderColor: 'white',\r\n    '&:hover': {\r\n      color: 'hsla(0,0%,100%,.75)',\r\n      borderColor: 'hsla(0,0%,100%,.75)',\r\n    },\r\n  },\r\n  name: {\r\n    paddingRight: theme.spacing(1),\r\n    color: 'white',\r\n    cursor: 'pointer',\r\n  },\r\n  avatar: {\r\n    cursor: 'pointer',\r\n  },\r\n});\r\n\r\nclass Auth extends Component {\r\n  static propTypes = {\r\n    firebase: PropTypes.shape({\r\n      auth: PropTypes.shape({ currentUser: PropTypes.shape({}) }),\r\n    }),\r\n    open: PropTypes.bool,\r\n    classes: PropTypes.objectOf(PropTypes.string),\r\n  };\r\n\r\n  static defaultProps = {\r\n    firebase: null,\r\n    open: false,\r\n    classes: {},\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: { signUp: props.open, signIn: false, anchorEl: null },\r\n    };\r\n  }\r\n\r\n  handleClick = name => {\r\n    this.setState({ open: { [name]: true } });\r\n  };\r\n\r\n  handleToggleMenu = event => {\r\n    this.setState({ anchorEl: event ? event.currentTarget : null });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: {} });\r\n  };\r\n\r\n  handleSwitchForm = () => {\r\n    this.setState(prev => ({\r\n      open: {\r\n        signUp: !prev.open.signUp,\r\n        signIn: !prev.open.signIn,\r\n      },\r\n    }));\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { open } = this.state;\r\n\r\n    if (open.signUp) {\r\n      return (\r\n        <SignUpForum\r\n          changeForm={() => {\r\n            this.setState({ create: false });\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    if (open.signIn) {\r\n      return (\r\n        <SignInForm\r\n          changeForm={() => {\r\n            this.setState({ create: true });\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    return undefined;\r\n  };\r\n\r\n  render() {\r\n    const { firebase, classes } = this.props;\r\n    const { open, anchorEl } = this.state;\r\n\r\n    const authenticated =\r\n      ((firebase || {}).auth || {}).currentUser || undefined;\r\n\r\n    if (authenticated) {\r\n      return (\r\n        <>\r\n          <Avatar\r\n            onClick={this.handleToggleMenu}\r\n            src={authenticated.photoURL}\r\n            imgProps={{\r\n              className: classes.avatar,\r\n              size: 'large',\r\n            }}\r\n            name={authenticated.displayName}\r\n            nameProps={{ className: classes.name, display: 'left' }}\r\n          />\r\n          <UserMenu\r\n            anchorEl={anchorEl}\r\n            onClose={() => this.handleToggleMenu(null)}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <Button\r\n          className={classes.buttons}\r\n          variant=\"text\"\r\n          onClick={() => this.handleClick('signUp')}\r\n        >\r\n          Sign Up\r\n        </Button>\r\n        <Button\r\n          className={classes.buttons}\r\n          variant=\"outlined\"\r\n          onClick={() => this.handleClick('signIn')}\r\n        >\r\n          Sign In\r\n        </Button>\r\n        <>\r\n          <Dialog\r\n            maxWidth=\"xs\"\r\n            open={!authenticated && (open.signIn || open.signUp)}\r\n            onClose={() => {\r\n              this.setState({ open: {} });\r\n            }}\r\n          >\r\n            <DialogContent>{this.renderForm()}</DialogContent>\r\n            <DialogActions>\r\n              <div style={{ width: '100%' }}>\r\n                <Button color=\"primary\" onClick={this.handleSwitchForm}>\r\n                  {open.signUp ? 'Log in instead' : 'Create account'}\r\n                </Button>\r\n                <Button\r\n                  style={{ float: 'right' }}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={this.handleClose}\r\n                >\r\n                  Close\r\n                </Button>\r\n              </div>\r\n            </DialogActions>\r\n          </Dialog>\r\n        </>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(withFirebase(Auth));\r\n","import React, { PureComponent } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { InputBase, Paper, IconButton } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\n\nconst styles = {\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    transition: 'width 0.2s',\n  },\n  rootBlur: {\n    backgroundColor: 'hsla(0,0%,100%,.125)',\n    width: 350,\n  },\n  rootFocus: {\n    backgroundColor: 'white',\n    width: 450,\n  },\n  input: {\n    flex: 1,\n  },\n  inputFocus: {\n    color: '#000000cc',\n  },\n  inputBlur: {\n    color: 'white',\n  },\n  icon: {\n    padding: '8px',\n  },\n  iconFocus: {\n    color: '#000000bb',\n  },\n  iconBlur: {\n    color: '#ffffff50',\n  },\n};\n\nclass Search extends PureComponent {\n  static propTypes = {\n    classes: PropTypes.objectOf(PropTypes.string).isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: '',\n      focused: false,\n      complete: false,\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { complete: prevComplete } = prevState;\n    const { complete } = this.state;\n\n    if (complete && complete !== prevComplete) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({ complete: false, search: '' });\n    }\n  }\n\n  handleFocus = focused => () => {\n    this.setState({ focused });\n  };\n\n  handleChange = event => {\n    this.setState({ search: event.target.value });\n  };\n\n  handleSubmit = () => {\n    this.setState({ complete: true });\n  };\n\n  render() {\n    const {\n      classes: {\n        root,\n        rootBlur,\n        rootFocus,\n        icon,\n        iconFocus,\n        iconBlur,\n        input,\n        inputFocus,\n        inputBlur,\n      },\n    } = this.props;\n    const { focused, complete, search } = this.state;\n    return (\n      <>\n        <form onSubmit={this.handleSubmit}>\n          <Paper\n            className={`${root} ${focused ? rootFocus : rootBlur}`}\n            elevation={0}\n          >\n            <IconButton\n              className={`${icon} ${focused ? iconFocus : iconBlur}`}\n              aria-label=\"menu\"\n            >\n              <MenuIcon />\n            </IconButton>\n            <InputBase\n              className={`${input} ${focused ? inputFocus : inputBlur}`}\n              placeholder=\"Search...\"\n              onChange={this.handleChange}\n              onKeyPress={this.handleKeyPress}\n              onFocus={this.handleFocus(true)}\n              onBlur={this.handleFocus(false)}\n              value={search}\n            />\n            <IconButton\n              className={`${icon} ${focused ? iconFocus : iconBlur}`}\n              type=\"submit\"\n              aria-label=\"search\"\n            >\n              <SearchIcon fontSize=\"small\" />\n            </IconButton>\n          </Paper>\n        </form>\n        {complete && (\n          <Redirect\n            push\n            to={{ pathname: 'recipes', search: `?search=${search}` }}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(Search);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AppBar, Button, Toolbar, withStyles } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport Auth from './Auth';\nimport Search from '../Molecules/Search';\nimport logo from '../Pictures/logo.png';\n\nconst styles = theme => ({\n  base: {\n    marginBottom: theme.spacing(1),\n  },\n  right: {\n    marginLeft: 'auto',\n  },\n  link: {\n    textDecoration: 'none',\n    all: 'inherit',\n    color: '#202020',\n  },\n  logo: {\n    width: '28px',\n    height: 'auto',\n    paddingRight: '9px',\n  },\n});\n\nclass NavBar extends Component {\n  static propTypes = {\n    classes: PropTypes.objectOf(PropTypes.string),\n  };\n\n  static defaultProps = {\n    classes: {},\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.base}>\n        <AppBar color=\"secondary\" position=\"sticky\">\n          <Toolbar>\n            <Link to={`${process.env.PUBLIC_URL}/`} className={classes.link}>\n              <Button color=\"secondary\">\n                <img src={logo} alt=\"logo\" className={classes.logo} />\n                <b style={{ color: 'white' }}>My Cookbook</b>\n              </Button>\n            </Link>\n            <Search onSearch={this.handleSearch} />\n            <div className={classes.right}>\n              <Auth />\n            </div>\n          </Toolbar>\n        </AppBar>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(NavBar);\n","/* eslint-disable react/jsx-curly-newline */\r\n\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nconst PrivateRoute = ({ component: Component, authUser, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        authUser !== null ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: `${process.env.PUBLIC_URL}/`,\r\n              state: { from: props.location, openAuth: true },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n  component: PropTypes.shape({}).isRequired,\r\n  authUser: PropTypes.shape({}),\r\n  location: PropTypes.shape({}),\r\n};\r\n\r\nPrivateRoute.defaultProps = {\r\n  authUser: null,\r\n  location: null,\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import 'react-image-gallery/styles/scss/image-gallery.scss';\r\nimport './gallery.css';\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGallery from 'react-image-gallery';\r\n\r\nconst Gallery = ({ items }) => (\r\n  <ImageGallery\r\n    items={items}\r\n    showPlayButton={false}\r\n    renderFullscreenButton={() => {}}\r\n  />\r\n);\r\n\r\nGallery.propTypes = {\r\n  items: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      original: PropTypes.string,\r\n      thumbnail: PropTypes.string,\r\n    })\r\n  ),\r\n};\r\n\r\nGallery.defaultProps = {\r\n  items: [],\r\n};\r\n\r\nexport default Gallery;\r\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\nimport {\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n} from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\nimport Delete from '@material-ui/icons/Delete';\nimport { post } from '../Utils/Request';\n\nconst styles = {\n  warning: {\n    color: '#fff',\n    backgroundColor: '#b71c1c',\n    '&:hover': {\n      backgroundColor: '#d50000',\n    },\n  },\n};\n\nclass DeleteRecipe extends PureComponent {\n  static propTypes = {\n    classes: PropTypes.objectOf(PropTypes.string).isRequired,\n    title: PropTypes.string.isRequired,\n    recipeId: PropTypes.number.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      deleted: false,\n    };\n  }\n\n  handleOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  handleDelete = async () => {\n    const { recipeId } = this.props;\n    try {\n      post(`recipe/delete/${recipeId}`);\n      this.setState({ deleted: true });\n    } catch (error) {\n      this.setState({ error });\n    }\n  };\n\n  render() {\n    const { classes, title } = this.props;\n    const { open, deleted } = this.state;\n    return (\n      <>\n        <Button\n          className={classes.warning}\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={this.handleOpen}\n        >\n          <Delete fontSize=\"small\" />\n          Delete\n        </Button>\n        <Dialog open={open} maxWidth=\"md\" onClose={this.handleClose}>\n          <DialogTitle>Delete Recipe?</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              {`Delete the recipe \"${title}\"?`}\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              className={classes.warning}\n              variant=\"contained\"\n              onClick={this.handleDelete}\n            >\n              Delete\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={this.handleClose}\n              autoFocus\n            >\n              Cancel\n            </Button>\n          </DialogActions>\n        </Dialog>\n        {deleted && <Redirect to=\"/\" />}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(DeleteRecipe);\n","import { Button, Grid, Paper, Typography } from '@material-ui/core';\r\nimport React, { Component } from 'react';\r\nimport Clock from '@material-ui/icons/Schedule';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport PieChart from '@material-ui/icons/PieChartOutlined';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { withFirebase } from '../Atoms/Firebase';\r\nimport Gallery from '../Organisms/Gallery';\r\nimport { get } from '../Utils/Request';\r\nimport DeleteRecipe from '../Organisms/DeleteRecipe';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    flexGrow: 1,\r\n    minHeight: 100,\r\n    paddingTop: 17,\r\n    padding: 10,\r\n  },\r\n  textContainer: {\r\n    flex: '0 0 42%',\r\n  },\r\n  imageContainer: {\r\n    flex: 1,\r\n    maxWidth: 550,\r\n    maxHeight: 360,\r\n  },\r\n  image: {\r\n    maxWidth: '100%',\r\n    maxHeight: 400,\r\n    height: 'auto',\r\n  },\r\n  timing: {\r\n    borderRight: '0.05em solid black',\r\n    paddingRight: '0.8em',\r\n  },\r\n  buttons: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  edit: {\r\n    marginRight: 4,\r\n  },\r\n  icons: {\r\n    marginRight: 8,\r\n    marginLeft: 4,\r\n  },\r\n});\r\n\r\nclass Recipe extends Component {\r\n  static propTypes = {\r\n    firebase: PropTypes.shape({\r\n      auth: PropTypes.shape({\r\n        currentUser: PropTypes.shape({ uid: PropTypes.string }),\r\n      }),\r\n    }).isRequired,\r\n    match: PropTypes.shape({\r\n      params: PropTypes.shape({ recipeId: PropTypes.string }),\r\n    }).isRequired,\r\n    classes: PropTypes.objectOf(PropTypes.string),\r\n  };\r\n\r\n  static defaultProps = {\r\n    classes: {},\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      recipe: {\r\n        title: '',\r\n        description: '',\r\n        images: [],\r\n        ingredients: [],\r\n        instructions: [],\r\n      },\r\n      edit: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      match: { params },\r\n    } = this.props;\r\n\r\n    get(`recipe/${params.recipeId}`)\r\n      .then(response => {\r\n        this.setState({\r\n          recipe: {\r\n            ...response.data,\r\n          },\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n\r\n  renderControls = () => {\r\n    const { classes } = this.props;\r\n    const {\r\n      recipe: { owner, title, _id },\r\n    } = this.state;\r\n\r\n    if (owner) {\r\n      return (\r\n        <>\r\n          <Button\r\n            className={classes.buttons}\r\n            onClick={() => this.setState({ edit: true })}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            <Edit className={classes.edit} fontSize=\"small\" />\r\n            Edit\r\n          </Button>\r\n          <DeleteRecipe\r\n            className={classes.buttons}\r\n            recipeId={_id}\r\n            title={title}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n    return undefined;\r\n  };\r\n\r\n  renderGallery = () => {\r\n    const {\r\n      recipe: { images },\r\n    } = this.state;\r\n    if (images) {\r\n      const items = images.map(image => ({\r\n        original: `https://i.imgur.com/${image.id}h.jpeg`,\r\n        thumbnail: `https://i.imgur.com/${image.id}b.jpeg`,\r\n        imageSet: [],\r\n      }));\r\n      return <Gallery items={items} />;\r\n    }\r\n    return undefined;\r\n  };\r\n\r\n  renderIngredients = () => {\r\n    const {\r\n      recipe: { ingredients },\r\n    } = this.state;\r\n    return ingredients.map((ingredient, i) => (\r\n      <li key={`ingredient-${i}`}>\r\n        <Typography variant=\"body1\">{ingredient}</Typography>\r\n      </li>\r\n    ));\r\n  };\r\n\r\n  renderInstructions = () => {\r\n    const {\r\n      recipe: { instructions },\r\n    } = this.state;\r\n    return instructions.map((instruction, i) => (\r\n      <li key={`instruction-${i}`}>\r\n        <Typography variant=\"body1\">{instruction}</Typography>\r\n      </li>\r\n    ));\r\n  };\r\n\r\n  renderSummary() {\r\n    const { classes } = this.props;\r\n    const {\r\n      recipe: { title, description, prep, cook, ready, servings },\r\n    } = this.state;\r\n\r\n    return (\r\n      <Paper square className={classes.paper}>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12} style={{ paddingBottom: 70 }}>\r\n            <div style={{ display: 'flex' }}>\r\n              <div className={classes.textContainer}>\r\n                <Typography variant=\"h5\">{title}</Typography>\r\n                <Typography variant=\"body1\">{description}</Typography>\r\n              </div>\r\n              <div className={classes.imageContainer}>\r\n                {this.renderGallery()}\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            {this.renderControls()}\r\n          </Grid>\r\n          <br />\r\n          <Grid item xs={12}>\r\n            <Grid container justify=\"space-between\">\r\n              <Typography variant=\"h6\" display=\"inline\" align=\"left\">\r\n                Ingredients\r\n              </Typography>\r\n              <Typography variant=\"body1\" display=\"inline\" align=\"right\">\r\n                <>{ready}</>\r\n                <Clock className={classes.icons} />\r\n                <>{servings}</>\r\n                <> servings</>\r\n                <PieChart className={classes.icons} />\r\n              </Typography>\r\n            </Grid>\r\n            <hr />\r\n            <ul>{this.renderIngredients()}</ul>\r\n          </Grid>\r\n          <Grid item xs={6} />\r\n          <br />\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"h6\">Directions</Typography>\r\n            <hr />\r\n            <Grid container alignItems=\"center\" spacing={2}>\r\n              <Grid item>\r\n                <Clock />\r\n              </Grid>\r\n              <Grid item>\r\n                <Typography variant=\"body1\" className={classes.timing}>\r\n                  <>Prep</>\r\n                  <br />\r\n                  <Typography variant=\"caption\">{prep}</Typography>\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <Typography variant=\"body1\" className={classes.timing}>\r\n                  <>Cook</>\r\n                  <br />\r\n                  <Typography variant=\"caption\">{cook}</Typography>\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <Typography variant=\"body1\">\r\n                  <>Ready In</>\r\n                  <br />\r\n                  <Typography variant=\"caption\">{ready}</Typography>\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <ol>{this.renderInstructions()}</ol>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { edit, recipe } = this.state;\r\n    return (\r\n      <>\r\n        <Grid container>\r\n          <Grid md={1} item lg={2} />\r\n          <Grid container item md={10} lg={6} spacing={2}>\r\n            {this.renderSummary()}\r\n          </Grid>\r\n          <Grid md={1} item lg={4} />\r\n        </Grid>\r\n        {edit && (\r\n          <Redirect\r\n            to={{\r\n              pathname: `${process.env.PUBLIC_URL}/recipe/${recipe._id}/edit`,\r\n              state: { recipe },\r\n            }}\r\n            push\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(withFirebase(Recipe));\r\n","import { Grid } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { TimeTextField } from '../Atoms/textfields/TextFields';\r\n\r\nconst TimeInput = ({ onChange, validate, valid, defaultValues }) => (\r\n  <>\r\n    <Grid item xs={4}>\r\n      <TimeTextField\r\n        title=\"Prep Time\"\r\n        placeholder=\"15m\"\r\n        valid={valid.prep}\r\n        onChange={onChange}\r\n        onBlur={validate}\r\n        defaultValue={defaultValues ? defaultValues.prep : undefined}\r\n      />\r\n    </Grid>\r\n    <Grid item xs={4}>\r\n      <TimeTextField\r\n        title=\"Cook Time\"\r\n        placeholder=\"1h 45m\"\r\n        valid={valid.cook}\r\n        onChange={onChange}\r\n        onBlur={validate}\r\n        defaultValue={defaultValues ? defaultValues.cook : undefined}\r\n      />\r\n    </Grid>\r\n    <Grid item xs={4}>\r\n      <TimeTextField\r\n        title=\"Ready In\"\r\n        placeholder=\"2h\"\r\n        valid={valid.ready}\r\n        onChange={onChange}\r\n        onBlur={validate}\r\n        defaultValue={defaultValues ? defaultValues.ready : undefined}\r\n      />\r\n    </Grid>\r\n  </>\r\n);\r\n\r\nTimeInput.propTypes = {\r\n  valid: PropTypes.shape({\r\n    prep: PropTypes.bool,\r\n    cook: PropTypes.bool,\r\n    ready: PropTypes.bool,\r\n  }).isRequired,\r\n  validate: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  defaultValues: PropTypes.objectOf(PropTypes.string),\r\n};\r\n\r\nTimeInput.defaultProps = {\r\n  defaultValues: {},\r\n};\r\n\r\nexport default TimeInput;\r\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Dropzone from 'react-dropzone';\nimport './dropzone.css';\nimport { CircularProgress, Typography } from '@material-ui/core';\n\nclass DropZone extends PureComponent {\n  static propTypes = {\n    loading: PropTypes.bool.isRequired,\n    onDrop: PropTypes.func.isRequired,\n  };\n\n  getClassName = (className, isActive) =>\n    isActive ? `${className} ${className}-active` : className;\n\n  renderContent = () => {\n    const { loading } = this.props;\n    return loading ? (\n      <CircularProgress size={25} />\n    ) : (\n      <Typography>\n        <b>Choose a file </b>\n        or drag it here\n      </Typography>\n    );\n  };\n\n  render() {\n    const { onDrop } = this.props;\n    return (\n      <Dropzone accept=\"image/*\" onDrop={onDrop}>\n        {({ getRootProps, getInputProps, isDragActive }) => (\n          <section className=\"container\">\n            <div\n              {...getRootProps({\n                className: this.getClassName('dropzone', isDragActive),\n              })}\n            >\n              <input {...getInputProps()} />\n              {this.renderContent()}\n            </div>\n          </section>\n        )}\n      </Dropzone>\n    );\n  }\n}\n\nexport default DropZone;\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { Typography } from '@material-ui/core';\nimport { useDrag, useDrop } from 'react-dnd';\nimport './grid.css';\n\nconst type = 'Image'; // Need to pass which type element can be draggable\n\nconst Image = ({ image, index, onMove }) => {\n  const ref = useRef(null);\n\n  const [, drop] = useDrop({\n    accept: type,\n    hover(item) {\n      if (!ref.current) {\n        return;\n      }\n      const from = item.index;\n      const to = index;\n      // Don't replace items with themselves\n      if (from === to) {\n        return;\n      }\n      // Move the content\n      onMove(from, to);\n      // Update the index for dragged item directly to avoid flickering when half dragged\n      // eslint-disable-next-line no-param-reassign\n      item.index = to;\n    },\n  });\n\n  const [, drag] = useDrag({\n    item: { type, id: image.id, index },\n    collect: monitor => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  // initialize drag and drop into the element\n  drag(drop(ref));\n\n  return (\n    <div ref={ref} className=\"file-item\">\n      <img\n        alt=\"\"\n        src={`https://i.imgur.com/${image.id}.jpg`}\n        className=\"file-img\"\n      />\n    </div>\n  );\n};\n\nImage.propTypes = {\n  image: PropTypes.shape({ id: PropTypes.string.isRequired }).isRequired,\n  index: PropTypes.number.isRequired,\n  onMove: PropTypes.func.isRequired,\n};\n\nconst ImageGrid = ({ images, onMove }) => {\n  const renderImage = (image, index) => {\n    return (\n      <Image\n        image={image}\n        index={index}\n        key={`${image.id}-image`}\n        onMove={onMove}\n      />\n    );\n  };\n\n  const renderHelperText = () => {\n    return images.length ? (\n      <Typography style={{ paddingTop: '8px' }}>Drag to Move Images</Typography>\n    ) : (\n      undefined\n    );\n  };\n  return (\n    <>\n      {renderHelperText()}\n      <section className=\"file-list\">{images.map(renderImage)}</section>\n    </>\n  );\n};\n\nImageGrid.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  onMove: PropTypes.func.isRequired,\n};\n\nexport default ImageGrid;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { DndProvider } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport Compress from 'compress.js';\nimport DropZone from '../Molecules/DropZone/DropZone';\nimport ImageGrid from '../Molecules/ImageGrid/ImageGrid';\n\nclass ImageUpload extends PureComponent {\n  static propTypes = {\n    onUpload: PropTypes.func.isRequired,\n    onMove: PropTypes.func.isRequired,\n    images: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n    };\n  }\n\n  handleDrop = async files => {\n    const { onUpload } = this.props;\n\n    this.setState({ loading: true });\n\n    const compress = new Compress();\n    const compressed = await compress.compress(files, {\n      size: 10,\n      quality: 0.8,\n    });\n\n    const images = [];\n    compressed.forEach(file => {\n      images.push(this.uploadToImgur(file.data));\n    });\n\n    onUpload(await Promise.all(images));\n    this.setState({ loading: false });\n  };\n\n  uploadToImgur = async file => {\n    const body = new FormData();\n    body.append('image', file);\n\n    const key = process.env.REACT_APP_IMGUR_CLIENT_ID;\n\n    try {\n      const response = await fetch('https://api.imgur.com/3/image', {\n        method: 'POST',\n        headers: new Headers({\n          Authorization: `Client-ID ${key}`,\n        }),\n        body,\n      });\n      const { data } = await response.json();\n      return { id: data.id, deleteHash: data.deletehash };\n    } catch (error) {\n      return undefined;\n    }\n  };\n\n  render() {\n    const { images, onMove } = this.props;\n    const { loading } = this.state;\n    return (\n      <>\n        <DropZone onDrop={this.handleDrop} loading={loading} />\n        <DndProvider backend={HTML5Backend}>\n          <ImageGrid images={images} onMove={onMove} />\n        </DndProvider>\n      </>\n    );\n  }\n}\n\nexport default ImageUpload;\n","import { Button, FormControlLabel, Grid, Switch } from '@material-ui/core';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport TimeInput from '../Molecules/TimeInput';\r\nimport { post } from '../Utils/Request';\r\nimport { withFirebase } from '../Atoms/Firebase';\r\nimport {\r\n  NumberTextField,\r\n  RecipeTextField,\r\n} from '../Atoms/textfields/TextFields';\r\nimport ImageUpload from './ImageUpload';\r\n\r\nconst EMPTY_RECIPE = {\r\n  title: '',\r\n  description: '',\r\n  ingredients: [],\r\n  instructions: [],\r\n  images: [],\r\n  prep: undefined,\r\n  cook: undefined,\r\n  ready: undefined,\r\n  private: false,\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    backgroundColor: '#FFFFFF',\r\n  },\r\n  submit: {\r\n    paddingLeft: 80,\r\n    paddingRight: 80,\r\n  },\r\n  cancel: {\r\n    color: '#fff',\r\n    backgroundColor: '#b71c1c',\r\n    '&:hover': {\r\n      backgroundColor: '#d50000',\r\n    },\r\n    paddingLeft: 38,\r\n    paddingRight: 38,\r\n  },\r\n  grid: {\r\n    padding: 30,\r\n  },\r\n  cloudIcon: {\r\n    marginLeft: 4,\r\n  },\r\n  upload: {\r\n    display: 'none',\r\n  },\r\n  details: {\r\n    padding: 30,\r\n  },\r\n};\r\n\r\nclass RecipeForm extends Component {\r\n  static propTypes = {\r\n    firebase: PropTypes.shape({\r\n      auth: PropTypes.shape({\r\n        currentUser: PropTypes.shape({ uid: PropTypes.string }),\r\n      }),\r\n    }).isRequired,\r\n    classes: PropTypes.objectOf(PropTypes.string),\r\n    location: PropTypes.shape({\r\n      pathname: PropTypes.string,\r\n      state: PropTypes.shape({ recipe: PropTypes.shape({}) }),\r\n    }),\r\n  };\r\n\r\n  static defaultProps = {\r\n    classes: {},\r\n    location: {},\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const recipe = ((props.location || {}).state || {}).recipe || {};\r\n    this.state = {\r\n      recipe: Object.keys(recipe).length ? { ...recipe } : { ...EMPTY_RECIPE },\r\n      status: {\r\n        added: false,\r\n        cancel: false,\r\n      },\r\n      errors: {\r\n        save: false,\r\n      },\r\n      valid: {\r\n        prep: true,\r\n        cook: true,\r\n        ready: true,\r\n      },\r\n      create: !Object.keys(recipe).length,\r\n    };\r\n  }\r\n\r\n  handleSwitchChange = name => event => {\r\n    event.persist();\r\n    this.setState(prev => ({\r\n      recipe: {\r\n        ...prev.recipe,\r\n        [name]: event.target.checked,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState(prev => ({\r\n      recipe: {\r\n        ...prev.recipe,\r\n        [name]: value\r\n          .replace(/\\s\\s+/g, ' ')\r\n          .replace(/\\n\\s*\\n/g, ' ')\r\n          .trim(),\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleMultiLineInputChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState(prev => ({\r\n      recipe: {\r\n        ...prev.recipe,\r\n        [name]: value\r\n          .replace(/\\n\\s*\\n/g, '\\n')\r\n          .replace(/\\s\\s+/g, ' ')\r\n          .trim()\r\n          .split(/\\r?\\n/),\r\n      },\r\n    }));\r\n  };\r\n\r\n  validateField = () => {\r\n    const {\r\n      recipe: { cook, prep, ready },\r\n    } = this.state;\r\n    const valid = {};\r\n\r\n    const timeRe = /(^\\d+h( +[0-5]?\\dm)?$|^[0-5]?\\dm$)/;\r\n\r\n    valid.prep = !(prep && !timeRe.test(prep));\r\n    valid.cook = !(cook && !timeRe.test(cook));\r\n    valid.ready = !(ready && !timeRe.test(ready));\r\n\r\n    this.setState({\r\n      valid,\r\n    });\r\n  };\r\n\r\n  handleImageUpload = images => {\r\n    this.setState(prev => ({\r\n      recipe: {\r\n        ...prev.recipe,\r\n        images: [...prev.recipe.images, ...images],\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleImageMove = (from, to) => {\r\n    const {\r\n      recipe: { images },\r\n    } = this.state;\r\n    const temp = [...images];\r\n    const element = temp[from];\r\n    temp.splice(from, 1);\r\n    temp.splice(to, 0, element);\r\n    this.setState(prev => ({\r\n      recipe: {\r\n        ...prev.recipe,\r\n        images: temp,\r\n      },\r\n    }));\r\n  };\r\n\r\n  addRecipe = event => {\r\n    const { recipe } = this.state;\r\n\r\n    post('recipe', recipe)\r\n      .then(() => {\r\n        this.setState({ status: { added: true } });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ errors: { save: error } });\r\n      });\r\n    event.preventDefault();\r\n  };\r\n\r\n  cancelRecipe = () => {\r\n    const {\r\n      recipe: { images },\r\n      create,\r\n    } = this.state;\r\n\r\n    if (create && images.length) {\r\n      const key = process.env.REACT_APP_IMGUR_CLIENT_ID;\r\n      images.forEach(image => {\r\n        axios.delete(`https://api.imgur.com/3/image/${image.deleteHash}`, {\r\n          headers: { Authorization: `Client-ID ${key}` },\r\n        });\r\n      });\r\n    }\r\n    this.setState({ status: { cancel: true } });\r\n  };\r\n\r\n  renderError = () => {\r\n    const { errors } = this.state;\r\n    if (errors.upload) {\r\n      return <p>{errors.upload}</p>;\r\n    }\r\n    if (errors.save) {\r\n      return <p>Error saving your recipe</p>;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  renderOptions = () => {\r\n    const { recipe, valid } = this.state;\r\n    return (\r\n      <>\r\n        <Grid item xs={12}>\r\n          <ImageUpload\r\n            images={recipe.images}\r\n            onUpload={this.handleImageUpload}\r\n            onMove={this.handleImageMove}\r\n          />\r\n        </Grid>\r\n        <TimeInput\r\n          valid={valid}\r\n          validate={this.validate}\r\n          onChange={this.handleInputChange}\r\n          defaultValues={recipe}\r\n        />\r\n        <Grid item xs={4}>\r\n          <NumberTextField\r\n            title=\"Servings\"\r\n            min=\"1\"\r\n            onChange={this.handleInputChange}\r\n            defaultValue={recipe ? recipe.servings : undefined}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={8} />\r\n        <Grid item xs={12}>\r\n          <FormControlLabel\r\n            value=\"true\"\r\n            label=\"Private\"\r\n            control={\r\n              <Switch\r\n                checked={recipe ? recipe.private : false}\r\n                value=\"private\"\r\n                onChange={this.handleSwitchChange('private')}\r\n              />\r\n            }\r\n          />\r\n        </Grid>\r\n      </>\r\n    );\r\n  };\r\n\r\n  renderDetails = () => {\r\n    const { classes, location } = this.props;\r\n    const recipe = ((location || {}).state || {}).recipe || {};\r\n    return (\r\n      <Grid container spacing={2} className={classes.details}>\r\n        <Grid item xs={12}>\r\n          <RecipeTextField\r\n            title=\"Recipe Title\"\r\n            name=\"title\"\r\n            onChange={this.handleInputChange}\r\n            defaultValue={recipe ? recipe.title : undefined}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <RecipeTextField\r\n            rows={3}\r\n            title=\"Description\"\r\n            onChange={this.handleInputChange}\r\n            defaultValue={recipe ? recipe.description : undefined}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <RecipeTextField\r\n            rows={8}\r\n            title=\"Ingredients\"\r\n            placeholder=\"Put each ingredient on its own line\"\r\n            onChange={this.handleMultiLineInputChange}\r\n            defaultValue={\r\n              recipe && recipe.ingredients\r\n                ? recipe.ingredients.join('\\n')\r\n                : undefined\r\n            }\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <RecipeTextField\r\n            rows={8}\r\n            title=\"Instructions\"\r\n            placeholder=\"Put each step on its own line\"\r\n            onChange={this.handleMultiLineInputChange}\r\n            defaultValue={\r\n              recipe && recipe.instructions\r\n                ? recipe.instructions.join('\\n')\r\n                : undefined\r\n            }\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { classes, location } = this.props;\r\n    const { status, create } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <form onSubmit={this.addRecipe}>\r\n          <Grid container>\r\n            <Grid item lg={1} xl={2} />\r\n            <Grid\r\n              container\r\n              item\r\n              xs={12}\r\n              lg={10}\r\n              xl={8}\r\n              className={classes.container}\r\n            >\r\n              <Grid item xs={12} md={4}>\r\n                <Grid container spacing={2} className={classes.grid}>\r\n                  {this.renderOptions()}\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item xs={12} md={8}>\r\n                {this.renderDetails()}\r\n              </Grid>\r\n              <Grid item xs={12} />\r\n              <Grid item className={classes.grid}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                  Save\r\n                </Button>\r\n              </Grid>\r\n              <Grid item className={classes.grid}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  className={classes.cancel}\r\n                  onClick={this.cancelRecipe}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item lg={1} xl={2} />\r\n          </Grid>\r\n        </form>\r\n        {this.renderError()}\r\n        {(status.added || status.cancel) && <Redirect to=\"/\" />}\r\n        {create && location.pathname.includes('edit') && <Redirect to=\"/\" />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(withFirebase(RecipeForm));\r\n","import React, { Component } from 'react';\r\nimport { Route, HashRouter as Router, Switch } from 'react-router-dom';\r\n\r\nimport Helmet from 'react-helmet';\r\nimport PropTypes from 'prop-types';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport axios from 'axios';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport Cookbook from './Pages/Cookbook';\r\nimport NavBar from './Organisms/NavBar';\r\nimport PrivateRoute from './Atoms/PrivateRoute';\r\nimport Recipe from './Pages/Recipe';\r\nimport RecipeForm from './Organisms/RecipeForm';\r\nimport { withFirebase } from './Atoms/Firebase';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#1565c0',\r\n    },\r\n    secondary: {\r\n      main: '#24292e',\r\n    },\r\n  },\r\n  overrides: {\r\n    MuiButton: {\r\n      root: {\r\n        textTransform: 'none',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nclass App extends Component {\r\n  static propTypes = {\r\n    firebase: PropTypes.shape({\r\n      auth: PropTypes.shape({\r\n        onAuthStateChanged: PropTypes.func,\r\n        currentUser: PropTypes.shape({ getIdToken: PropTypes.func }),\r\n      }),\r\n    }).isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      authUser: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { firebase } = this.props;\r\n    this.listener = firebase.auth.onAuthStateChanged(authUser => {\r\n      this.setState({ authUser: authUser || null });\r\n      if (authUser) {\r\n        firebase.auth.currentUser.getIdToken().then(token => {\r\n          axios.defaults.headers.common.Authorization = token;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.listener();\r\n  }\r\n\r\n  render() {\r\n    const { authUser } = this.state;\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <Helmet\r\n          bodyAttributes={{ style: 'background-color : #f0f0f0; margin : 0px' }}\r\n        />\r\n        <Router basename=\"/\">\r\n          <NavBar />\r\n          <Switch>\r\n            <Route\r\n              exact\r\n              path={`${process.env.PUBLIC_URL}/`}\r\n              component={Cookbook}\r\n            />\r\n            <Route\r\n              path={`${process.env.PUBLIC_URL}/recipes`}\r\n              component={Cookbook}\r\n            />\r\n            <PrivateRoute\r\n              exact\r\n              authUser={authUser}\r\n              path={`${process.env.PUBLIC_URL}/recipe/new`}\r\n              component={RecipeForm}\r\n            />\r\n            <Route\r\n              exact\r\n              path={`${process.env.PUBLIC_URL}/recipe/:recipeId/edit`}\r\n              component={RecipeForm}\r\n            />\r\n            <Route\r\n              exact\r\n              path={`${process.env.PUBLIC_URL}/recipe/:recipeId`}\r\n              component={Recipe}\r\n            />\r\n          </Switch>\r\n        </Router>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(App);\r\n","import * as serviceWorker from './serviceWorker';\n\nimport Firebase, { FirebaseContext } from './Atoms/Firebase';\n\nimport App from './App';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <App />\n  </FirebaseContext.Provider>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}